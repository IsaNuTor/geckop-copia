<div class="card">
    <!--TITULO-->
    <div class="card bg-dark">
      <div class="card-header text-white text-center">
        ORDEN DE PAGO GASTOS VIAJES
      </div>
    </div>

    <form [formGroup]="formOrden">

      <div class="form-row mt-3">

        <!--<div class="form-group col-md-6">
          <label class="texto-form">Proyecto</label>
          <select class="custom-select" formControlName="proyecto">
            <option value="" selected>Seleccione acrónimo del proyecto</option>
            <option *ngFor="let proyecto of proyectos" value="{{ proyecto.acronimo }}">{{ proyecto.acronimo }}</option>
          </select>
        </div>-->

        <!--FECHA PRUEBA
        <p>{{this.fechaOrden | date:'dd-MM-yyyy'}}</p>-->

        <div class="form-group col-md-6">
          <label class="texto-form">Proyecto</label>
          <select class="custom-select" formControlName="acronimo" (change)="capturarValor()">
            <option value="" selected>Seleccione acrónimo del proyecto</option>
            <option *ngFor="let proyecto of misProyectos; index as i" value="{{ misProyectos[i].acronimo }}">{{ proyecto.acronimo }}</option>
          </select>
        </div>

        <div class="form-group col-md-6">
          <label class="texto-form">Acreedor</label>
          <select class="custom-select" formControlName="nif_acreedor">
            <option value="" selected>Seleccione acreedor</option>
            <option *ngFor="let acreedor of acreedores" value="{{ acreedor.nif }}">{{acreedor.nombre}} -- {{ acreedor.nif }}</option>
          </select>
        </div>

      </div>

      <div class="form-row">

          <div class="form-group col-md-6">
            <label class="texto-form">Concepto</label>
            <input type="text" class="form-control" formControlName="concepto" name="concepto" id="concepto" placeholder="Concepto" >
          </div>

          <div class="form-group col-md-6">
            <label class="texto-form">Num. Contabilidad</label>
            <input type="text" class="form-control" formControlName="num_contabilidad" name="num_contabilidad" id="num_contabilidad" placeholder="Num. Contabilidad" >
          </div>

        </div>
      <div class="row">
        <div class="form-group form-inline espacioIzq">
          <div>
              <label class="texto-form" for="relacion">Relación con el proyecto:&nbsp;&nbsp;</label>
          </div>
          <div class="form-check">
            <input class="form-check-input ml-1" type="checkbox" value="" id="checkMP" checked *ngIf="checkMP" disabled>
            <input class="form-check-input ml-1" type="checkbox" value="" id="checkMP" *ngIf="!checkMP" disabled>
            <label class="form-check-label mr-3" for="checkMP">
              Miembro del proyecto
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input ml-1" type="checkbox" value="" id="checkME" checked *ngIf="checkME" disabled>
            <input class="form-check-input ml-1" type="checkbox" value="" id="checkME" *ngIf="!checkME" disabled>
            <label class="form-check-label mr-3" for="checkME">
              Miembro del equipo de trabajo
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input ml-1" type="checkbox" value="" id="checkPI" checked *ngIf="checkPI" disabled>
            <input class="form-check-input ml-1" type="checkbox" value="" id="checkPI" *ngIf="!checkPI" disabled>
            <label class="form-check-label mr-3" for="checkPI">
              Profesor invitado
            </label>
          </div>
        </div>

        <!--<div class="form-group">
          <label class="texto-form" for="relacion">Relación con el proyecto</label>
          <textarea class="form-control" id="relacion" rows="3" placeholder="{{relacion}}" disabled></textarea>
          <div class="alerta">
            <small *ngIf="false">No puede estar vacio <br></small>
          </div>
        </div>-->
  </div>

      <!--------------------------------------------------GASTOS----------------------------------------------------------------->
      <!--<app-gastos></app-gastos>-->
      <!--<p [hidden]="opcionSeleccionada=='0'">Has seleccionado la opcion {{misProyectos[i].acronimo}}</p>-->
    <div class="card-body" [hidden]="!verSeleccionada">

      <form class="card mb-4"  [formGroup]="formGastos" >
        <h3 class="texto-form mt-3">Justificación de gastos</h3>
        <!-- Entradas simples -->

      <div class="card-body" [hidden]="!verSeleccionada">

        <!--Fechas-->
        <div class="form-row form-inline bordeDiv">
          <div class="form-group col-md-6 fechaDer">
            <label for="fechaIda"><b>Fecha ida:&nbsp;&nbsp;&nbsp;&nbsp;</b></label>
            <input type="date" class="form-control" formControlName="fechaIda" id="fechaIda" placeholder="Fecha ida" name="fechaIda">
          </div>

          <div class="form-group col-md-6">
            <label for="fechaVuelta"><b>Fecha vuelta:&nbsp;&nbsp;&nbsp;&nbsp;</b></label>
            <input type="date" class="form-control" formControlName="fechaVuelta" id="fechaVuelta" placeholder="Fecha vuelta" name="fechaVuelta">
            <div class="alerta">
              <small *ngIf="!formValid && gastoViaje.fechaIda > gastoViaje.fechaVuelta">Las fechas introducidas no son válidas <br></small>
            </div>
          </div>
        </div>
        <br>
  <div>
        <h3 class="texto-form mt-3">Elija los transportes que ha utilizado</h3>
        <!--Checkbox avion-->
        <div class="form-check">
          <input class="form-check-input ml-1" type="checkbox" value="" id="defaultCheck1" (change)="capturarValorCheck('avion')">
          <label class="form-check-label ml-4" for="defaultCheck1">
            Avión
          </label>
        </div>

        <!--Avion-->
        <div class="form-group bordeTransporte" [hidden]="!checkAvion">
          <div class="row">
              <div class="col-md-10">
                <label class ="tx-secondary" for="avion"><b>Avion</b></label>
                <input type="text" class="form-control" formControlName="avion" placeholder="(Máx 150 caracteres)" maxlength="200" id="avion" name="avion">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-2">
                <label for="importeAvion">Importe</label>
                <input type="number" class="form-control" formControlName="importeAvion" required min="0" value="0" step="any" name="importeAvion" id="importeAvion" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteTotal('avion')">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
          </div>
          <br>
          <div class="form-group">
            <label for="imagen">Adjuntar Factura</label>
            <input (change)="seleccionarFoto($event, 'avion')" type="file" class="form-control-file" id="fotoAvion">
          </div>
          <br>
        </div>


        <!--Checkbox coche-->
        <div class="form-check">
          <input class="form-check-input ml-1" type="checkbox" value="" id="defaultCheck2" (change)="capturarValorCheck('coche')">
          <label class="form-check-label ml-4" for="defaultCheck2">
            Coche
          </label>
        </div>

        <!--Coche-->
        <div class="form-group bordeTransporte" [hidden]="!checkCoche">
          <label class ="tx-secondary"><b>Coche</b></label>
          <div class="row">
              <div class="col-md-4">
                <label for="nkilometros">Nº de Kilometros</label>
                <input type="number" class="form-control" formControlName="nkilometros" required min="0" value="0" step="any" name="nkilometros" id="nkilometros" (change)="calculoImporteCoche()" onFocus="if (this.value==0) this.value='';">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-4">
                <label for="preciokm">€/km</label>
                <input type="number" class="form-control" placeholder="{{precioKilometro}}" name="preciokm" id="preciokm" disabled>
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-4">
                <label for="importeCoche">Importe</label>
                <input type="number" class="form-control" formControlName="importeCoche" required min="0" value="0" step="any" name="importeCoche" id="importeCoche" disabled onFocus="if (this.value==0) this.value='';">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
            </div>

            <br>
            <div class="form-group">
              <label for="imagen">Adjuntar Factura</label>
              <input (change)="seleccionarFoto($event, 'coche')" type="file" class="form-control-file" id="fotoCoche">
            </div>
            <br>
         </div>


        <!--Checkbox tren-->
        <div class="form-check">
          <input class="form-check-input ml-1" type="checkbox" value="" id="defaultCheck3" (change)="capturarValorCheck('tren')">
          <label class="form-check-label ml-4" for="defaultCheck3">
            Tren
          </label>
        </div>

        <!--Tren-->
        <div class="form-group bordeTransporte" [hidden]="!checkTren">
          <div class="row">
              <div class="col-md-10">
                <label class ="tx-secondary" for="tren"><b>Tren</b></label>
                <input type="text" class="form-control" formControlName="tren" placeholder="(Máx 150 caracteres)" maxlength="200" id="tren" name="tren">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-2">
                <label for="importeTren">Importe</label>
                <input type="number" class="form-control" formControlName="importeTren" required min="0" value="0" step="any" name="importeTren" id="importeTren" (change)="calculoImporteTotal('tren')" onFocus="if (this.value==0) this.value='';">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
          </div>
          <br>
          <div class="form-group">
            <label for="imagen">Adjuntar Factura</label>
            <input (change)="seleccionarFoto($event, 'tren')" type="file" class="form-control-file" id="fotoTren">
          </div>
          <br>
        </div>

        <!--Checkbox autobus-->
        <div class="form-check">
          <input class="form-check-input ml-1" type="checkbox" value="" id="defaultCheck4" (change)="capturarValorCheck('autobus')">
          <label class="form-check-label ml-4" for="defaultCheck4">
            Autobús
          </label>
        </div>
        <!--Autobus-->
        <div class="form-group bordeTransporte" [hidden]="!checkAutobus">
          <div class="row">
              <div class="col-md-10">
                <label class ="tx-secondary" for="autobus"><b>Autobus</b></label>
                <input type="text" class="form-control" formControlName="autobus" placeholder="(Máx 150 caracteres)" maxlength="200" id="autobus" name="autobus">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-2">
                <label for="importeAutobus">Importe</label>
                <input type="number" class="form-control" formControlName="importeAutobus" required min="0" value="0" step="any" name="importeAutobus" id="importeAutobus" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteTotal('autobus')">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
          </div>
          <br>
          <div class="form-group">
            <label for="imagen">Adjuntar Factura</label>
            <input (change)="seleccionarFoto($event, 'autobus')" type="file" class="form-control-file" id="fotoAutobus">
          </div>
          <br>
        </div>

        <!--Checkbox taxi-->
        <div class="form-check">
          <input class="form-check-input ml-1" type="checkbox" value="" id="defaultCheck5" (change)="capturarValorCheck('taxi')">
          <label class="form-check-label ml-4" for="defaultCheck5">
            Taxi
          </label>
        </div>

        <!--Taxi-->
        <div class="form-group bordeTransporte" [hidden]="!checkTaxi">
          <div class="row">
              <div class="col-md-10">
                <label class ="tx-secondary" for="taxi"><b>Taxi</b></label>
                <input type="text" class="form-control" formControlName="taxi" placeholder="(Máx 150 caracteres)" maxlength="200" id="taxi" name="taxi">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-2">
                <label for="importeTaxi">Importe</label>
                <input type="number" class="form-control" formControlName="importeTaxi" required min="0" value="0" step="any" name="importeTaxi" id="importeTaxi" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteTotal('taxi')">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
          </div>
          <br>
          <div class="form-group">
            <label for="imagen">Adjuntar Factura</label>
            <input (change)="seleccionarFoto($event, 'taxi')" type="file" class="form-control-file" id="fotoTaxi">
          </div>
          <br>
        </div>

        <!--Checkbox otros-->
        <div class="form-check">
          <input class="form-check-input ml-1" type="checkbox" value="" id="defaultCheck6" (change)="capturarValorCheck('otros')">
          <label class="form-check-label ml-4" for="defaultCheck6">
            Otros gastos
          </label>
        </div>

        <!--Otros-->
        <div class="form-group bordeTransporte" [hidden]="!checkOtros">
          <div class="row">
              <div class="col-md-10">
                <label class ="tx-secondary" for="otros"><b>Otros</b></label>
                <input type="text" class="form-control" formControlName="otros" placeholder="(Máx 150 caracteres)" maxlength="200" id="otros" name="otros">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-2">
                <label for="importeOtros">Importe</label>
                <input type="number" class="form-control" formControlName="importeOtros" required min="0" value="0" step="any" name="importeOtros" id="importeOtros" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteTotal('otros')">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
          </div>
          <br>
          <div class="form-group">
            <label for="imagen">Adjuntar Factura</label>
            <input (change)="seleccionarFoto($event, 'otros')" type="file" class="form-control-file" id="fotoOtros">
          </div>
        </div>
        <br>

    </div>
        <!--Hotel-->
        <div class="form-group bordeDiv">
          <div class="row">
              <div class="col-md-10">
                <br><br>
                <label class ="tx-secondary"><b>Factura de hotel</b></label>
              </div>

              <div class="col-md-2">
                <label for="importeHotel">Importe</label>
                <input type="number" class="form-control" formControlName="importeHotel" required min="0" value="0" step="any" name="importeHotel" id="importeHotel" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteTotal('hotel')">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
          </div>
          <br>
          <div class="form-group">
            <label for="imagen">Adjuntar Factura</label>
            <input (change)="seleccionarFoto($event, 'hotel')" type="file" class="form-control-file" id="fotoHotel">
          </div>
        </div>
        <br>
        <!--Manutención-->
        <div class="form-group bordeDiv">
          <label class ="tx-secondary"><b>Manutención</b></label>
          <div class="row">
              <div class="col-md-3">
                <label for="nDietas">Nº de dietas</label>
                <input type="number" class="form-control" formControlName="nDietas" required min="0" value="0" step="any" name="nDietas" id="nDietas" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteDietas()">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-7">
                <label for="precioDieta">cuantía por dieta(€/día) <a href="https://www.ucm.es/data/cont/docs/32-2018-07-11-20180711_cuadro_dietas.pdf" target="_blank">[Ver cuadro de dietas]</a></label>
                <input type="number" class="form-control" formControlName="precioDieta" required min="0" value="0" step="any" name="precioDieta" id="precioDieta" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteDietas()">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>

              <div class="col-md-2">
                <label for="importeDietas">Importe</label>
                <input type="number" class="form-control" formControlName="importeDietas" required min="0" value="0" step="any" name="importeDietas" id="importeDietas" disabled>
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
            </div>
            <br>

         </div>
        <!--Otros gastos-->
        <div class="form-group bordeDiv">
          <div class="row">
              <div class="col-md-10">
                <br><br>
                <label class ="tx-secondary"><b>Inscripciones a congresos, seminarios, reuniones</b></label>
              </div>

              <div class="col-md-2">
                <label for="importeOtrosGastos">Importe</label>
                <input type="number" class="form-control" formControlName="importeOtrosGastos" required min="0" value="0" step="any" name="importeOtrosGastos" id="importeOtrosGastos" onFocus="if (this.value==0) this.value='';" (change)="calculoImporteTotal('otrosgastos')">
                <div class="alerta">
                  <small *ngIf="false">No puede estar vacio <br></small>
                </div>
              </div>
          </div>
          <br>
          <div class="form-group">
            <label for="imagen">Adjuntar Factura</label>
            <input (change)="seleccionarFoto($event, 'otrosgastos')" type="file" class="form-control-file" id="fotoOtrosGastos">
          </div>
          <br>
        </div>

        <!--Importe total-->
        <div class="form-group bordeDiv">
          <div class="row">
              <div class="col-md-10">
                <br><br>
                <label class ="tx-secondary"><b>Importe total:</b></label>
              </div>

              <div class="col-md-2">
                <label for="importeTotal">Importe €</label>
                <input type="number" class="form-control" value="{{importeTotal}}" step="any" name="importeTotal" id="importeTotal" disabled>
              </div>
          </div>
          <br>
        </div>

      </div>
        </form>

      </div>

        <div class="form-group">
          <label class="texto-form" for="memoria">Objeto del desplazamiento en relación con la ejecución del proyecto</label>
          <textarea class="form-control" id="memoria" rows="3" formControlName="memoria" placeholder="Escribe la memoria explicativa" ></textarea>
          <div class="alerta">
            <small *ngIf="false">No puede estar vacio <br></small>
          </div>
        </div>

        <br>
        <!--<div class="form-group">
          <label class="texto-form" for="relacion">Relación con el proyecto</label>
          <textarea class="form-control" id="relacion" rows="3" placeholder="{{relacion}}" disabled></textarea>
          <div class="alerta">
            <small *ngIf="false">No puede estar vacio <br></small>
          </div>
        </div>-->

        <br>
        <div class="form-group">
          <label class="texto-form" for="observaciones">Observaciones a la hora de pagar al acreedor</label>
          <textarea class="form-control" id="observaciones" rows="3" formControlName="observaciones" placeholder="Escribe las observaciones que creas correspondientes"></textarea>
        </div>
      <br>
        <!--<a href="#"><img src="../../../../../assets/iconos/pdf.png" alt="Descargar orden pdf" width="80px"></a>-->
      <br><br>
      <button class="btn btn-success" role="button" (click)="cargarNumProyectoOrden()">Crear Orden</button>
      <button class="btn btn-danger" role="button" (click)="cancelar()">Cancelar</button>
      <br><br>

      <!--<div class="form-group">
        <button class="btn btn-rounded btn btn-success m-0" types="button" (click)="anadirGastoViaje()">Añadir Gasto</button>
      </div>-->
    </form>

</div>
